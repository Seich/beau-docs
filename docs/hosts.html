<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Beau.js | Testing APIs made easy</title>
	<link rel="stylesheet" href="/styles/screen.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

</head>

<body>
	<header>
		<div class="logo">
			<a href="/">
				<img src="/assets/beau.svg" alt="Beau">
			</a>
		</div>
		<ul>
			<li class="search">
				<label>
					<svg viewBox="0 0 568 554">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M570.39 215.5C570.39 334.517 473.908 431 354.89 431C305.323 431 259.664 414.265 223.255 386.137L58.3315 551.061C54.4262 554.966 48.0946 554.966 44.1893 551.061L5.82843 512.7C1.92319 508.795 1.92319 502.463 5.82841 498.558L173.104 331.282C151.76 297.84 139.39 258.115 139.39 215.5C139.39 96.4826 235.873 0 354.89 0C473.908 0 570.39 96.4826 570.39 215.5ZM507.39 215C507.39 299.5 438.89 368 354.39 368C269.891 368 201.39 299.5 201.39 215C201.39 130.5 269.891 62 354.39 62C438.89 62 507.39 130.5 507.39 215Z"
						 transform="translate(-2.39035)" fill="#fff" />
					</svg>

					<input type="search" id="search">
				</label>
			</li>
			<li>
				<a href="/docs">Documentation</a>
			</li>
			<li class="github">
				<a href="https://github.com/seich/beau">
					<img src="/assets/github.png" alt="Github Logo">
				</a>
			</li>
		</ul>
	</header>
<div class="docs">

	<a class="docs__menu__toggle" data-menu-toggle>Menu</a>

	<nav class="docs__sidebar">
	<ul class="docs__sidebar__main">
		
			<li class="docs__sidebar__topic">
				Quick Start

					<ul class="docs__sidebar__topic__sub">
						
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/what-is-beau.html">
									What is Beau?
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/index.html">
									Getting Started
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/schema.html">
									JSON Schema &amp; Autocompletion
								</a>
							</li>
							
					</ul>
			</li>
			
			<li class="docs__sidebar__topic">
				Configuration

					<ul class="docs__sidebar__topic__sub">
						
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/requests.html">
									Requests
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/composition.html">
									Composition
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/defaults.html">
									Defaults
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/plugins.html">
									Plugins
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/environment-variables.html">
									Environment Variables
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/hosts.html">
									Hosts
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/settings.html">
									Settings
								</a>
							</li>
							
					</ul>
			</li>
			
			<li class="docs__sidebar__topic">
				Built-in Plugins

					<ul class="docs__sidebar__topic__sub">
						
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/plugin/date.html">
									Date
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/plugin/filesystem.html">
									FileSystem
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/plugin/uuid.html">
									UUID
								</a>
							</li>
							
					</ul>
			</li>
			
			<li class="docs__sidebar__topic">
				CLI

					<ul class="docs__sidebar__topic__sub">
						
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/cli/request.html">
									Request
								</a>
							</li>
							
							<li class="docs__sidebar__topic__sub__sub ">
								<a href="/docs/cli/list.html">
									List
								</a>
							</li>
							
					</ul>
			</li>
			
	</ul>
</nav>

	<main class="docs__main" role="main">
		<div class="docs__container">
			<h1>Hosts</h1><p>Beau allows you to define multiple hosts if you need to call multiple different
endpoints. By default there&#39;s a &quot;global&quot; host implicitly defined on the first
document in the file.</p>
<p>You can define hosts by specifying multiple documents in the YAML file. In YAML
you can define multiple documents in a file by separating them with &quot;---&quot;. If
more than one document is defined, Beau will take the first one as the &quot;global&quot;
one. Any additional ones will exist in a different namespace. The namespace for
these additional documents is defined under the <code>host</code> key. This key will be
used when composing and requesting these requests so something brief and with a
clear meaning is advised.</p>
<pre><code class="language-yaml">endpoint: http://posts.example.com
GET /:
    alias: posts
    headers:
        Authentication: Bearer $session:create-session.body.token

---
host: session
endpoint: http://sessions.example.com

POST /:
    alias: create-session
    payload:
        username: user
        password: pass</code></pre>
<p>In this example we have to documents defined in the <code>beau.yml</code> file. The first
one is the global host and the second one is namespaced under <em>session</em>. You can
compose these additional requests from any other host, such as the global host
by prepending the host name, <em>session</em>, and a colon to the request name.</p>
<p>To call a request under a host you also have to prefix it&#39;s host name followed
by a colon:</p>
<pre><code>$ beau request session:create-session</code></pre><h3>Defaults</h3><p>Defaults within a host behave slightly different as they do on the global host.
Default keys within a host are first merged with the defaults from the global
host before being merged with the values withing a given request. Most values
will be ignored if passed <code>false</code> as a value so you can use this to remove keys
coming from the global defaults.</p>
<h2>Examples</h2><p>You can compose between all requests defined on the different hosts including
the global one.</p>
<pre><code class="language-yaml">endpoint: http://posts.example.com

GET /posts:
    alias: posts
    header:
        authentication: Bearer $session:create-session.body.token

---
host: session
    endpoint: http://session.example.com

    POST /session:
        alias: create-session
        payload:
            username: user
            password: pass

---
host: profile
    endpoint: http://profile.example.com

    GET /user/1:
        alias: get-profile
        header:
            authentication: Bearer $session:create-session.body.token</code></pre>
<p>All hosts inherit defaults from the global host meaning you could rewrite this
as:</p>
<pre><code class="language-yaml">endpoint: http://posts.example.com

defaults:
    headers:
        authentication: Bearer $session:create-session.body.token

GET /posts: posts

---
host: session
endpoint: http://session.example.com

POST /session:
    alias: create-session
    payload:
        username: user
        password: pass

    headers: false

---
host: profile
endpoint: http://profile.example.com

GET /user/1: get-profile</code></pre>
<p>You can also define defaults on a per host basis:</p>
<pre><code class="language-yaml">...
host: profile
endpoint: http://profile.example.com

defaults:
    headers:
    authentication: Bearer $session:create-session.body.token

GET /user/1: get-profile</code></pre>
<p>Every set of defaults will be merged with the global defaults first. So you can
mix and match as needed.</p>
		</div>
	</main>
</div>

<script>
	var btn = document.querySelector('[data-menu-toggle]');
	var sidebar = document.querySelector('.docs__sidebar');

	btn.addEventListener('click', function() {
		sidebar.classList.toggle('is-open');
	});
</script>

<script src="/assets/prism.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
        apiKey: 'e9f47a09d3b5eab824f48cc26b4227a7',
        indexName: 'beaujs',
        inputSelector: '#search',
        debug: false
    });
</script>
</body>

</html>
